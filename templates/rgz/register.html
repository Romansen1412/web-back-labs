{% extends "base.html" %}
{% block lab %}Регистрация{% endblock %}

{% block main %}
<h1>Регистрация</h1>

{% if error %}
    <p style="color:red;">{{ error }}</p>
{% endif %}

<form method="post">
    <label>Имя: <input type="text" name="name" value="{{ name|default('') }}" required></label><br>
    <label>Логин: <input type="text" name="login" value="{{ login|default('') }}" required></label><br>
    <label>Пароль: <input type="password" name="password" required></label><br>
    <button type="submit">Зарегистрироваться</button>
</form>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div style="text-align:center; margin: 10px 0;">
        <ul class="flashes" style="list-style:none; padding:0; display:inline-block; width:100%; text-align:center;">
          {% for category, message in messages %}
            <li class="{{ category }}">{{ message }}</li>
          {% endfor %}
        </ul>
    </div>
  {% endif %}
{% endwith %}

<p>Уже есть аккаунт? <a href="{{ url_for('rgz.login') }}">Войти</a></p>
{% endblock %}
