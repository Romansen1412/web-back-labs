{% extends 'base.html' %}

{% block lab %}Лабораторная работа 2{% endblock %}

{% block main %}
<h1>Список всех цветов</h1>
<p>Всего цветов: {{ total }}</p>
<ul>
    {% for f in flowers %}
        <li>
            {{ f.name }} &mdash; {{ f.price }} &#x20bd;
            <a href="{{ url_for('delete_flower', flower_id=loop.index0) }}">Удалить</a>
        </li>
    {% endfor %}
</ul>

<h2>Добавить новый цветок</h2>
<label for="name">Название:</label>
<input type="text" id="name">
<label for="price">Цена:</label>
<input type="number" id="price">
<button onclick="addFlower()">Добавить</button>

<script>
    function addFlower() {
        const name = encodeURIComponent(document.getElementById('name').value);
        const price = document.getElementById('price').value;
        if(name && price) {
            window.location.href = `/lab2/add_flower/${name}/${price}`;
        } else {
            alert("Введите название и цену!");
        }
    }
</script>

<p><a href="{{ url_for('clear_flowers') }}">Очистить список</a></p>
{% endblock %}